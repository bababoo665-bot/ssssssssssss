<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FiveM Server List - Protected</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* ซ่อนเนื้อหาหลักไว้ก่อนล็อกอิน */
        #main-content { display: none; }
    </style>
</head>
<body class="bg-[#0f172a] text-slate-200">

    <div id="login-screen" class="fixed inset-0 z-[100] flex items-center justify-center bg-[#0f172a]">
        <div class="bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700">
            <div class="text-center mb-8">
                <div class="inline-block p-4 bg-blue-600/10 rounded-full mb-4">
                    <i class="fa-solid fa-lock text-3xl text-blue-500"></i>
                </div>
                <h2 class="text-2xl font-bold text-white">กรุณาเข้าสู่ระบบ</h2>
                <p class="text-slate-400 text-sm">ระบุ User และ Password เพื่อเข้าใช้งาน</p>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-1">Username</label>
                    <input type="text" id="username" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500 transition" placeholder="ระบุชื่อผู้ใช้">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Password</label>
                    <input type="password" id="password" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500 transition" placeholder="ระบุรหัสผ่าน">
                </div>
                <button onclick="checkLogin()" class="w-full bg-blue-600 hover:bg-blue-500 py-3 rounded-lg font-bold transition mt-4">
                    เข้าสู่ระบบ
                </button>
                <p id="error-msg" class="text-red-400 text-center text-sm mt-2 hidden">ข้อมูลไม่ถูกต้อง กรุณาลองใหม่</p>
            </div>
        </div>
    </div>

    <div id="main-content">
        <nav class="border-b border-slate-800 bg-[#0f172a]/80 backdrop-blur-md sticky top-0 z-50">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400">
                    FIVEM GANG LIST
                </div>
                <button onclick="logout()" class="text-slate-400 hover:text-white text-sm">ออกจากระบบ</button>
            </div>
        </nav>

        <main class="container mx-auto px-4 py-10 text-center">
            <h1 class="text-4xl font-black mb-4">ยินดีต้อนรับเข้าสู่ระบบ</h1>
            <p class="text-slate-400 mb-10">ขณะนี้คุณสามารถเข้าถึงข้อมูลเซิร์ฟเวอร์ได้แล้ว</p>
            
            <div id="server-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>
        </main>
    </div>

    <script>
        // ข้อมูลล็อกอินที่คุณกำหนด
        const VALID_USER = "myweb";
        const VALID_PASS = "kkk188618";

        // ตรวจสอบสถานะการล็อกอินตอนโหลดหน้าเว็บ
        window.onload = function() {
            if (sessionStorage.getItem("isLoggedIn") === "true") {
                showContent();
            }
        };

        function checkLogin() {
            const userInput = document.getElementById('username').value;
            const passInput = document.getElementById('password').value;
            const errorMsg = document.getElementById('error-msg');

            if (userInput === VALID_USER && passInput === VALID_PASS) {
                sessionStorage.setItem("isLoggedIn", "true"); // เก็บสถานะไว้ชั่วคราว
                showContent();
            } else {
                errorMsg.classList.remove('hidden');
                // ล้างช่องรหัสผ่าน
                document.getElementById('password').value = "";
            }
        }

        function showContent() {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('main-content').style.display = 'block';
            renderServers(); // เรียกฟังก์ชันแสดงรายชื่อเซิร์ฟเวอร์ (จาก script.js)
        }

        function logout() {
            sessionStorage.removeItem("isLoggedIn");
            location.reload();
        }

        // ตัวอย่างข้อมูลเซิร์ฟเวอร์
        function renderServers() {
            const list = document.getElementById('server-list');
            const servers = [
                { name: "Siam City RP", players: "150/300", img: "https://via.placeholder.com/400x200" },
                { name: "Gangland Thailand", players: "90/128", img: "https://via.placeholder.com/400x200" }
            ];
            
            list.innerHTML = servers.map(s => `
                <div class="bg-slate-800/50 border border-slate-700 rounded-2xl p-4">
                    <img src="${s.img}" class="rounded-xl mb-4 w-full">
                    <h3 class="text-xl font-bold">${s.name}</h3>
                    <p class="text-emerald-400 text-sm mt-2">${s.players} Players Online</p>
                </div>
            `).join('');
        }
    </script>
</body>
</html>
